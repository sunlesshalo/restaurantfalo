---
import '../styles/global.css';

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Restaurant Faló Étterem - Meniu tradițional din regiunea Harghita. Borsec, Romania." />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <title>{title}</title>

  <!-- Preload hero image -->
  <link rel="preload" as="image" href="/images/hero-food.webp" />

  <!-- System fonts for performance -->
  <style>
    @font-face {
      font-family: 'Playfair Display';
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: url('https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDXbtXK-F2qC0s.woff2') format('woff2');
    }
    @font-face {
      font-family: 'Playfair Display';
      font-style: normal;
      font-weight: 600;
      font-display: swap;
      src: url('https://fonts.gstatic.com/s/playfairdisplay/v37/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDXbtXK-F2qO0w.woff2') format('woff2');
    }
  </style>
</head>
<body class="bg-charcoal text-cream antialiased">
  <slot />

  <!-- Language toggle script -->
  <script>
    function setLang(lang: string) {
      document.querySelectorAll('[data-ro]').forEach(el => {
        const htmlEl = el as HTMLElement;
        if (lang === 'ro') {
          htmlEl.textContent = htmlEl.dataset.ro || '';
        } else {
          htmlEl.textContent = htmlEl.dataset.hu || '';
        }
      });

      // Update toggle buttons
      document.querySelectorAll('[data-lang-btn]').forEach(btn => {
        const btnEl = btn as HTMLElement;
        if (btnEl.dataset.langBtn === lang) {
          btnEl.classList.add('bg-gold', 'text-charcoal');
          btnEl.classList.remove('text-gold');
        } else {
          btnEl.classList.remove('bg-gold', 'text-charcoal');
          btnEl.classList.add('text-gold');
        }
      });

      localStorage.setItem('falo-lang', lang);
    }

    // Initialize on load
    document.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('falo-lang') || 'ro';
      setLang(savedLang);
    });

    // Make setLang available globally
    (window as any).setLang = setLang;
  </script>
</body>
</html>
